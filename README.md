# lwdx
Lightweight document transformations & assemblies, based on familiar markups and simple tools.
* Accepts and processes content authored in three interoperable input formats: XDITA _xml_, HDITA _html5_, MDITA _markdown_ (Note: this interop is a fundamental premise of LwDITA) 
* Documents are assembled from _maps_ that transclude modular, structured _topics_ (This feature is straight from DITA 1.X) 
* This implementation is based on the emerging [OASIS standard](https://github.com/oasis-open/dita-lightweight) (but full compliance is _not_ guaranteed) 
* The goal is roundtrip conversions among all three formats for freedom+flexibility in authoring+publishing  
* We desire straightforward handling of XML mixed content... 
* So `lwdx` chooses a DIY approach (based on the Go stdlib) over the horrors of Golang's [XML annotations](https://godoc.org/encoding/xml#Marshal). 
## Contains 
* Golang API
* CLI commands 
## Features
* Relies on Golang's [`encoder/xml`](https://godoc.org/encoding/xml) package for parsing & tokenization
* Hides as much XML & DITA complexity as possible (Bell Labs UNIX "NJ Style": _It is slightly better to be simple than correct._)
* Formats input files opinionatedly (like `gofmt`), which simplifies diff'ing for changes under version control 
* (temporarily shelved) For purposes of comparison and exploration, can write out parse trees generated by [`xmlx`](https://github.com/jteeuwen/go-pkg-xmlx), [`etree`](https://github.com/beevik/etree), [`mxj`](https://github.com/clbanning/mxj), [`x2j`](https://github.com/clbanning/mxj/tree/master/x2j), [Go `html`](https://godoc.org/golang.org/x/net/html)
## License
* [AGPL](https://www.gnu.org/licenses/agpl-3.0.en.html)
* [Discussion](https://drewdevault.com/2020/07/27/Anti-AGPL-propaganda.html)
* (Future:_TBS_) Dual licensing to provide an option for unencumbered commercial use 
## Missing
* Automated tests 
* XML DTD-style entity substitutions (but didn't you get the memo? yer sposta use DITA `conref`)
* Details of comment handling in Markdown, and how it can support roundtripping for complex LwDITA tags (note that LwDITA relies on CommonMark with extensions) 
## TODOs & Roadmap
* Implement character entities, partly to enhance the input parser comparisons 
* Publishing! (this is the first step to usefulness, and will be done along the lines of the DITA-OT's preprocessing stage) 
* A schema-driven WYSIWYG IBE (in-browser editor, probably [Quill](https://quilljs.com/) 
* Enhanced support for common DITA mechanisms like conref files and glossary files 
* Support for LwDITA-style specialization-by-example 
* _Not_ roadmapped: Support for `ditaval` files for conditional publishing 
## Contributing
* Contact me at fbaube at welho daaht com 

## mermaid test

```mermaid
  graph TD;
      A-->B;
      A-->C;
      B-->D;
      C-->D;
```
